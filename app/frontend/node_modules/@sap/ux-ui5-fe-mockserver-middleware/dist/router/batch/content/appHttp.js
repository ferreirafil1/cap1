"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppHttp = void 0;
var AppHttp = /** @class */ (function () {
    /**
     * @param {String} url
     * @param {Object} headers
     * @param {Array} payload
     * @constructor
     */
    function AppHttp(url, headers, payload) {
        this.type = 'app';
        this.rawData = {
            url: url,
            headers: headers,
            payload: payload
        };
        this.contentId = undefined;
        this.request = undefined;
        this.response = undefined;
    }
    AppHttp.prototype.write = function (context, response) {
        response.write('Content-Type: application/http\r\n');
        response.write('Content-Transfer-Encoding: binary\r\n');
        if (this.contentId) {
            response.write('Content-ID: ' + this.contentId.id + '\r\n');
        }
        response.write('\r\n'); //end of header
        this.response.writeToBatchResponse(response, this.contentId);
    };
    return AppHttp;
}());
exports.AppHttp = AppHttp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwSHR0cC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9yb3V0ZXIvYmF0Y2gvY29udGVudC9hcHBIdHRwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBO0lBT0k7Ozs7O09BS0c7SUFDSCxpQkFBbUIsR0FBRyxFQUFFLE9BQU8sRUFBRSxPQUFPO1FBQ3BDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxPQUFPLEdBQUc7WUFDWCxHQUFHLEVBQUUsR0FBRztZQUNSLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLE9BQU8sRUFBRSxPQUFPO1NBQ25CLENBQUM7UUFFRixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQztRQUN6QixJQUFJLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztJQUM5QixDQUFDO0lBRU0sdUJBQUssR0FBWixVQUFhLE9BQU8sRUFBRSxRQUFRO1FBQzFCLFFBQVEsQ0FBQyxLQUFLLENBQUMsb0NBQW9DLENBQUMsQ0FBQztRQUNyRCxRQUFRLENBQUMsS0FBSyxDQUFDLHVDQUF1QyxDQUFDLENBQUM7UUFDeEQsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2hCLFFBQVEsQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxHQUFHLE1BQU0sQ0FBQyxDQUFDO1NBQy9EO1FBQ0QsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGVBQWU7UUFFdkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFDTCxjQUFDO0FBQUQsQ0FBQyxBQXBDRCxJQW9DQztBQXBDWSwwQkFBTyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBBcHBIdHRwIHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgcmF3RGF0YTogb2JqZWN0O1xuICAgIGNvbnRlbnRJZDogYW55O1xuICAgIHJlcXVlc3Q6IGFueTtcbiAgICByZXNwb25zZTogYW55O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF5bG9hZFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih1cmwsIGhlYWRlcnMsIHBheWxvYWQpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ2FwcCc7XG4gICAgICAgIHRoaXMucmF3RGF0YSA9IHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmNvbnRlbnRJZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHB1YmxpYyB3cml0ZShjb250ZXh0LCByZXNwb25zZSkge1xuICAgICAgICByZXNwb25zZS53cml0ZSgnQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9odHRwXFxyXFxuJyk7XG4gICAgICAgIHJlc3BvbnNlLndyaXRlKCdDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiaW5hcnlcXHJcXG4nKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudElkKSB7XG4gICAgICAgICAgICByZXNwb25zZS53cml0ZSgnQ29udGVudC1JRDogJyArIHRoaXMuY29udGVudElkLmlkICsgJ1xcclxcbicpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3BvbnNlLndyaXRlKCdcXHJcXG4nKTsgLy9lbmQgb2YgaGVhZGVyXG5cbiAgICAgICAgdGhpcy5yZXNwb25zZS53cml0ZVRvQmF0Y2hSZXNwb25zZShyZXNwb25zZSwgdGhpcy5jb250ZW50SWQpO1xuICAgIH1cbn1cbiJdfQ==